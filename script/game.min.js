function draw_surface(a){var b,c,d,e,f,g;for(b=0;b<=a.data.surface.col+1;b+=1)for(c=0;c<=a.data.surface.row+1;c+=1)d=42*b+42*c-42,e=21*b-21*c-21,f=b+"_"+c,a.surface[f]={cell:f,x:d,y:e,land:null,available:!1,visible:!1},a.data.lands.hasOwnProperty(f)&&(g=a.add.sprite(d,e,a.data.lands[f]),a.surface[f].land=g,a.surface[f].available=!0,a.surface[f].visible=!0,a.surface.add(g))}var preload=function(a){};preload.prototype={preload:function(){this.load.json("data","data.json"),this.load.image("land","images/point.png")},create:function(){this.game.state.start("menu")}};var menu=function(a){};menu.prototype={create:function(){this.stage.backgroundColor="#fbfaf7";var a=this.add.text(this.world.centerX,this.world.centerY,"Play",{font:"28px Arial",fill:"#222"});a.anchor.set(.5),a.inputEnabled=!0,a.input.useHandCursor=!0,a.events.onInputDown.add(function(){this.game.state.start("game")},this)}};var game=function(a){};game.prototype={init:function(a){this.surface={},this.keyboard=!0},create:function(){this.stage.backgroundColor="#fbfaf7",this.data=this.cache.getJSON("data"),this.surface=this.add.group(),draw_surface(this),this.surface.sort("y",Phaser.Group.SORT_ASCENDING),this.surface.x=this.world.centerX-1.5*this.surface.width,this.surface.y=this.world.centerY,this.input.keyboard.addCallbacks(this,null,function(){this.keyboard=!0})},update:function(){this.keyboard&&this.input.keyboard.isDown(Phaser.Keyboard.LEFT)&&(this.keyboard=!1),this.keyboard&&this.input.keyboard.isDown(Phaser.Keyboard.RIGHT)&&(this.keyboard=!1),this.keyboard&&this.input.keyboard.isDown(Phaser.Keyboard.UP)&&(this.keyboard=!1),this.keyboard&&this.input.keyboard.isDown(Phaser.Keyboard.DOWN)&&(this.keyboard=!1)}};var izojump=new Phaser.Game(400,400,Phaser.AUTO,"game");izojump.state.add("preload",preload),izojump.state.add("menu",menu),izojump.state.add("game",game),izojump.state.start("preload");